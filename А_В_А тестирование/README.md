# А_В_А тестирование  

## Задание:  

К нам попали результаты A/A/B-тестирования от одного известного маркетплейса. 

- sample_a, sample_c — АА-группы,  
- sample_b — отдельная группа.
  
В каждом датасете есть три типа действий пользователей: 
- 0 — клик,
- 1 — просмотр
- 2 — покупка (пользователь просматривает выдачу товаров, кликает на понравившийся товар и совершает покупку).  

## Метрики:
Маркетплейс ориентируется на следующие метрики:  
- **ctr** (отношение кликов к просмотрам товаров);  
- **purchase rate** (отношение покупок к просмотрам товаров);  
- **gmv** (оборот, сумма произведений количества покупок на стоимость покупки, где считаем 1 сессию за 1 точку (1 сессия на 1 пользователя)).
  
Данные уже почищены по сессиям, вы можете использовать их в агрегированном виде. Ваша задача — понять, нет ли проблемы с разъезжанием сплитов и улучшает ли алгоритм B работу маркетплейса.
## План действий  
1. Очистка данных:  
  1. Проверка чистоты данных и независимости выборки, отсутвие пересечений по идентификатору пользователя.
  2. Проверка наличия ситуаций, когда происходит покупка/клик без действия просмотра.
  3. Проверка на дубликаты
2. Расчет и первоначальная оценка метрик
3. Проверка на нормальность распределения
4. Тест на равенство средних
   - Средняя сумма покупки
5. Тесты на равенство долей
   - CTR
   - Purchase_rate
   - GMV (Gross Merchandise Volume) 

# Выводы:
Для групп А и С, по сути это соревнование с самим собой. 
Каков же результат?  
- Отношение кликов к просмотрам(ctr) одинаковое.
- Отношение покупок к просмотрам(purchase_rate) равны.
- Cредняя сумма покупки в группе А не равна средней сумме покупки в группе C.
- Отношение gmv в группах А и C к общему gmv не равны, т.е. наблюдается дисбаланс, в одной из групп "напродавали" больше.

Скажем так, не идеальные выводы из теста.  
Возможно, на одну из этих групп действует неучтённый фактор или факторы.  

При этом: группы А и В показали больше различий между собой.  
- На предложения товаров в группе В кликали хуже, чем в А.  
- Отношение покупок к просмотрам(purchase_rate) равны.
- Cредняя сумма покупки в группе А ниже средней суммы покупки в группе В
- Отношение gmv в группах А и B к общему gmv в группе А ниже, чем в группе В
- В группе В продажи 91% от вместе взятых групп А и С
  
**Общий вывод:** Да, сплиты "разъехались". Идеального теста А/B/A не получилось, однако GMV на новом алгоритме значительно выросла, клиенты откликались реже, но тратили в среднем больше. А для бизнеса это самое главное.
